[Rainmeter]
Update=250
DefaultUpdateDivider=4
DynamicWindowSize=1
backgroundMode=2
solidcolor=120,120,121,170
onRefreshAction=[!updateMeasure mCalcRGB][!commandMeasure mCalcRGB "HSVtoRGB()"]
mouseLeaveAction=[!HideMeter AdjustAlpha]

[Variables]
hideconfigbar=1
Alpha=116
ClockColor=0,77,255
BGColor=63,1,99
WinColors=1
SecondsColor=1,104,9
MinutesColor=1,104,9
HoursColor=2,110,11
AmPmcolor=2,110,20
ColonColor=3,95,108

@include2="#@#\SettingsMethods.inc"

[ScriptButtonBG]
measure=script
DynamicVariables=1
ScriptFile="#@#CalcButtonBG.lua"
Percent=0.45
Color1=#SecondsColor#
Color2=#MinutesColor#
Color3=#HoursColor#
Color4=#BGColor#
Color5=#ColonColor#
Color6=#AmPmcolor#

[setSeconds]
meter=string
X=([SatAndVal:X]+[SatAndVal:W]+5)
y=23
w=150
h=46
text="Seconds"
clipstring=2
solidColor=#ShadedColor1#
FontColor=#SecondsColor#
stringAlign=LeftCenter
fontSize=#SettingsFontSize#
FontFace=#SettingsFontFace#
dynamicVariables=1
leftMouseUpAction=[!SetVariable SecondsColor #ActiveRGB#][!SetVariable SecondsColor #ActiveRGB# "#RootConfig#\clock\clocks"][!writeKeyValue Variables SecondsColor #ActiveRGB# "#ROOTCONFIGPATH#\clock\Clocks\#CurrentFile#"][!writeKeyValue Variables SecondsColor #ActiveRGB#][!updateMeasure ScriptShade "#RootConfig#\clock\clocks"]
rightMouseUpAction=[!commandMeasure mCalcRGB "RGBtoHSV('#SecondsColor#')"][!updateMeasure mCalcRGB]

[setMinutes]
meter=string
x=r
y=([setSeconds:H])r
w=([setSeconds:W])
h=([setSeconds:H])
text="Minutes"
clipstring=2
solidColor=#ShadedColor2#
FontColor=#MinutesColor#
stringAlign=LeftCenter
fontSize=#SettingsFontSize#
FontFace=#SettingsFontFace#
dynamicVariables=1
leftMouseUpAction=[!SetVariable MinutesColor #ActiveRGB#][!SetVariable MinutesColor #ActiveRGB# "#RootConfig#\clock\clocks"][!writeKeyValue Variables MinutesColor #ActiveRGB# "#ROOTCONFIGPATH#\clock\Clocks\#CurrentFile#"][!writeKeyValue Variables MinutesColor #ActiveRGB#]
rightMouseUpAction=[!commandMeasure mCalcRGB "RGBtoHSV('#MinutesColor#')"][!updateMeasure mCalcRGB]

[setHours]
meter=string
x=r
y=([setMinutes:H])r
w=([setMinutes:W])
h=([setMinutes:H])
dynamicVariables=1
text="Hours"
clipstring=2
solidColor=#ShadedColor3#
FontColor=#HoursColor#
stringAlign=LeftCenter
fontSize=#SettingsFontSize#
FontFace=#SettingsFontFace#
leftMouseUpAction=[!SetVariable HoursColor #ActiveRGB#][!SetVariable HoursColor #ActiveRGB# "#RootConfig#\clock\clocks"][!writeKeyValue Variables HoursColor #ActiveRGB# "#ROOTCONFIGPATH#\clock\Clocks\#CurrentFile#"][!writeKeyValue Variables HoursColor #ActiveRGB#]
rightMouseUpAction=[!commandMeasure mCalcRGB "RGBtoHSV('#HoursColor#')"][!updateMeasure mCalcRGB]

[setColonColor]
meter=string
x=r
y=([setHours:H])r
w=([setHours:W])
h=([setHours:H])
dynamicVariables=1
text="Colon"
clipstring=2
solidColor=#ShadedColor5#
FontColor=#ColonColor#
stringAlign=LeftCenter
fontSize=#SettingsFontSize#
FontFace=#SettingsFontFace#
leftMouseUpAction=[!SetVariable ColonColor #ActiveRGB#][!SetVariable ColonColor #ActiveRGB# "#RootConfig#\Clock\Clocks"][!writeKeyValue Variables ColonColor #ActiveRGB# "#ROOTCONFIGPATH#\Clock\Clocks\#CurrentFile#"][!writeKeyValue Variables ColonColor #ActiveRGB#]
rightMouseUpAction=[!commandMeasure mCalcRGB "RGBtoHSV('#ColonColor#')"][!updateMeasure mCalcRGB]

[setAmPmColor]
meter=string
x=r
y=([setColonColor:H])r
w=([setColonColor:W])
h=([setColonColor:H])
text="AM / PM"
clipstring=1
solidColor=#ShadedColor6#
FontColor=#AmPmColor#
stringAlign=LeftCenter
fontSize=#SettingsFontSize#
FontFace=#SettingsFontFace#
dynamicVariables=1
leftMouseUpAction=[!SetVariable AmPmColor #ActiveRGB#][!SetVariable AmPmColor #ActiveRGB# "#RootConfig#\clock\clocks"][!writeKeyValue Variables AmPmColor #ActiveRGB# "#ROOTCONFIGPATH#\clock\Clocks\#CurrentFile#"][!writeKeyValue Variables AmPmColor #ActiveRGB#]
rightMouseUpAction=[!commandMeasure mCalcRGB "RGBtoHSV('#AmPmColor#')"][!updateMeasure mCalcRGB]

[setBGcolor]
meter=string
x=r
y=([setAmPmColor:H])r
w=([setAmPmColor:W])
h=([setAmPmColor:H])
text="Background"
clipstring=1
solidColor=#ShadedColor4#
FontColor=#BGcolor#
stringAlign=LeftCenter
fontSize=#SettingsFontSize#
FontFace=#SettingsFontFace#
dynamicVariables=1
leftMouseUpAction=[!SetVariable BGColor #ActiveRGB#][!SetVariable BGColor #ActiveRGB# "#RootConfig#\clock\clocks"][!writeKeyValue Variables BGColor #ActiveRGB# "#ROOTCONFIGPATH#\clock\Clocks\#CurrentFile#"][!writeKeyValue Variables BGColor #ActiveRGB#]
rightMouseUpAction=[!commandMeasure mCalcRGB "RGBtoHSV('#BGColor#')"][!updateMeasure mCalcRGB]

[setOpacity]
meter=string
x=r
y=([setBGcolor:H])r
w=([setBGcolor:W])
h=([setBGcolor:H])
text="Opacity"
clipstring=1
solidColor=ffffff
FontColor=000000
stringAlign=LeftCenter
fontSize=#SettingsFontSize#
FontFace=#SettingsFontFace#
dynamicVariables=1
MouseOverAction=[!SetOption #CURRENTSECTION# solidColor 200,200,200]
MouseLeaveAction=[!SetOption #CURRENTSECTION# solidColor 255,255,255]
leftMouseUpAction=[!ToggleMeter adjustAlpha]

[useWinColors]
text="System Colors"
leftMouseUpAction=[!SetVariable winColors 0][!SetVariable winColors 0 "#RootConfig#\Clock\Clocks"][!WriteKeyValue Variables WinColors 0][!WriteKeyValue Variables WinColors 0 "#RootConfigPath#\Clock\Clocks\#CurrentFile#"][!setOption WinColorsToggle meterStyle useCustomColors][!writeKeyValue WinColorsToggle meterStyle useCustomColors][!refresh "#RootConfig#\Clock\Clocks"]

[useCustomColors]
text="User Colors"
leftMouseUpAction=[!SetVariable winColors 1][!SetVariable winColors 1 "#RootConfig#\Clock\Clocks"][!WriteKeyValue Variables WinColors 1][!WriteKeyValue Variables WinColors 1 "#RootConfigPath#\Clock\Clocks\#CurrentFile#"][!setOption WinColorsToggle meterStyle useWinColors][!writeKeyValue WinColorsToggle meterStyle useWinColors][!refresh "#RootConfig#\Clock\Clocks"]

[WinColorsToggle]
meter=string
x=r
y=(([setOpacity:H]/2+([SatAndVal:Y]+[SatAndVal:H]-([setOpacity:Y]+[setOpacity:H]))/2))r
w=([setOpacity:W])
h=([SatAndVal:Y]+[SatAndVal:H]-([setOpacity:Y]+[setOpacity:H]))
dynamicVariables=1
meterStyle=useWinColors
clipstring=2
solidColor=ffffff
FontColor=000000
stringAlign=LeftCenter
fontSize=#SettingsFontSize#
FontFace=#SettingsFontFace#
MouseOverAction=[!SetOption #CURRENTSECTION# solidColor 200,200,200]
MouseLeaveAction=[!SetOption #CURRENTSECTION# solidColor 255,255,255]

[adjustAlpha]
meter=shape
dynamicVariables=1
X=([setOpacity:X]-[HexColor:W])
Y=[setOpacity:Y]
H=[setOpacity:H]
W=[HexColor:W]
hidden=1
Opacity=180 | ffffff ; 0 | ffffff ; (#Alpha#/255) | 787878 ; (#Alpha#/255) | 787878 ; 1
shape=Rectangle 0,0,([#CurrentSection#:W]),([#CurrentSection#:H]) | StrokeWidth 0 | fill Color 0,0,0,185
shape2=Line ([#CurrentSection#:W]*0.1),([#CurrentSection#:H]*0.5),([#CurrentSection#:W]*0.9),([#CurrentSection#:H]*0.5) | StrokeWidth ([#CurrentSection#:H]*0.2) | Stroke LinearGradient Opacity
LeftMouseUpAction=[!setVariable Alpha ((($MouseX$-([#CurrentSection#:W]*0.1))/([#CurrentSection#:W]*0.8)*255)<0?0:((($MouseX$-([#CurrentSection#:W]*0.1))/([#CurrentSection#:W]*0.8)*255)>255?255:round(($MouseX$-([#CurrentSection#:W]*0.1))/([#CurrentSection#:W]*0.8)*255)))][!SetVariable ClockAlpha ((($MouseX$-([#CurrentSection#:W]*0.1))/([#CurrentSection#:W]*0.8)*255)<0?0:((($MouseX$-([#CurrentSection#:W]*0.1))/([#CurrentSection#:W]*0.8)*255)>255?255:round(($MouseX$-([#CurrentSection#:W]*0.1))/([#CurrentSection#:W]*0.8)*255))) "#RootConfig#\Clock\Clocks"][!writeKeyValue Variables ClockAlpha ((($MouseX$-([#CurrentSection#:W]*0.1))/([#CurrentSection#:W]*0.8)*255)<0?0:((($MouseX$-([#CurrentSection#:W]*0.1))/([#CurrentSection#:W]*0.8)*255)>255?255:round(($MouseX$-([#CurrentSection#:W]*0.1))/([#CurrentSection#:W]*0.8)*255))) "#ROOTCONFIGPATH#\Clock\Clocks\#CurrentFile#"][!writeKeyValue Variables Alpha ((($MouseX$-([#CurrentSection#:W]*0.1))/([#CurrentSection#:W]*0.8)*255)<0?0:((($MouseX$-([#CurrentSection#:W]*0.1))/([#CurrentSection#:W]*0.8)*255)>255?255:round(($MouseX$-([#CurrentSection#:W]*0.1))/([#CurrentSection#:W]*0.8)*255))) "#ROOTCONFIGPATH#\Clock\Clocks\#CurrentFile#"][!writeKeyValue Variables Alpha ((($MouseX$-([#CurrentSection#:W]*0.1))/([#CurrentSection#:W]*0.8)*255)<0?0:((($MouseX$-([#CurrentSection#:W]*0.1))/([#CurrentSection#:W]*0.8)*255)>255?255:round(($MouseX$-([#CurrentSection#:W]*0.1))/([#CurrentSection#:W]*0.8)*255)))][!Redraw "#RootConfig#\Clock\Clocks"]
